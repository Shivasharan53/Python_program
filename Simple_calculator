from flask import Flask, request, render_template_string

app = Flask(__name__)

# HTML Template
form_template = """
<!doctype html>
<title>Simple Calculator</title>
<h2>Basic Calculator</h2>
<form method="post">
  Number 1: <input type="number" name="num1" step="any"><br><br>
  Operator: 
  <select name="operator">
    <option value="+">+</option>
    <option value="-">-</option>
    <option value="*">*</option>
    <option value="/">/</option>
    <option value="%">%</option>
  </select><br><br>
  Number 2: <input type="number" name="num2" step="any"><br><br>
  <input type="submit" value="Calculate">
</form>

{% if result %}
  <h3>Result: {{ result }}</h3>
{% endif %}
"""

# Calculator logic
def calculate(num1, num2, operator):
    try:
        num1 = float(num1)
        num2 = float(num2)
        if operator == '+':
            return num1 + num2
        elif operator == '-':
            return num1 - num2
        elif operator == '*':
            return num1 * num2
        elif operator == '/':
            return "Error: Division by zero" if num2 == 0 else num1 / num2
        elif operator == '%':
            return "Error: Modulus by zero" if num2 == 0 else num1 % num2
        else:
            return "Invalid operator"
    except ValueError:
        return "Invalid input"

@app.route('/', methods=['GET', 'POST'])
def calculator():
    result = None
    if request.method == 'POST':
        num1 = request.form['num1']
        num2 = request.form['num2']
        operator = request.form['operator']
        result = calculate(num1, num2, operator)
    return render_template_string(form_template, result=result)

if __name__ == '__main__':
    app.run(debug=True)
