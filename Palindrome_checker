from flask import Flask, request, render_template_string

app = Flask(__name__)

# HTML Template
form_template = """
<!doctype html>
<title>Palindrome Checker</title>
<h2>Palindrome Checker</h2>
<form method="post">
  Enter a string: <input type="text" name="text">
  <input type="submit" value="Check">
</form>

{% if result is not none %}
  <h3>Result: {{ result }}</h3>
{% endif %}
"""

# Palindrome check function
def is_palindrome(text):
    cleaned = ''.join(char.lower() for char in text if char.isalnum())  # ignore spaces, punctuation, case
    return cleaned == cleaned[::-1]

@app.route('/', methods=['GET', 'POST'])
def check_palindrome():
    result = None
    if request.method == 'POST':
        text = request.form['text']
        if is_palindrome(text):
            result = f'"{text}" is a palindrome ✅'
        else:
            result = f'"{text}" is not a palindrome ❌'
    return render_template_string(form_template, result=result)

if __name__ == '__main__':
    app.run(debug=True)
